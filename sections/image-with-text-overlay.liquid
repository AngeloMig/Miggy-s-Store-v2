

{%- style -%}



{% if section.settings.video_url == blank %}

  .image-with-text-overlay .inner-section {

    {% if section.settings.image != blank %}background-image: url('{{ section.settings.image | img_url: 'master' }}');{% endif %}

    background-position: {{ section.settings.image_position }}; 

  }

{% endif %}



{% if section.settings.video_mobile_url == blank %}

  @media (max-width: 480px) {

    .image-with-text-overlay .inner-section {

      {% if section.settings.mobile_image != blank %}background-image: url('{{ section.settings.mobile_image | img_url: 'master' }}');{% endif %}

    }

  }

{% endif %}

{%- endstyle -%}



<div class="inner-section {{ section.settings.text_position }}">

  <!-- Video -->

  {%- if section.settings.video_url contains '.mp4' or section.settings.video_url contains '.MP4' -%}

    <video

      id="Mp4Video-{{ section.id }}"

      src="{{ section.settings.video_url }}"

      class="background-video"

      loop muted playsinline autoplay></video>

  {%- endif -%}



  {%- if section.settings.video_mobile_url contains '.mp4' or section.settings.video_mobile_url contains '.MP4' -%}

    <video

      id="Mp4Video-{{ section.id }}"

      src="{{ section.settings.video_mobile_url }}"

      class="background-video-mobile"

      loop muted playsinline autoplay></video>

  {%- endif -%}

  

  <div class="wrap-content-sec">

    <div class="hun-container">

      <div class="hun-row">

        <div class="content-section hun-col">

          {% if section.settings.title != blank %}

            <h3 class="title-section section-header__title" style="max-width: {{- section.settings.title_max_w -}}px;">

              {{ section.settings.title }}

            </h3>

          {% endif %}

          

          {% if section.settings.subtitle != blank %}

            <div class="subtitle-section" style="max-width: {{- section.settings.subtitle_max_w -}}px;">

              {{ section.settings.subtitle }}

            </div>

          {% endif %}



          {% if section.settings.button_label != blank %}

            <div class="buttons-section">

              <a class="btn-section" href="{{ section.settings.button_link }}">{{ section.settings.button_label }}</a>

            </div>

          {% endif %}

        </div>

      </div>

    </div>

  </div>

</div>





{% schema %}

  {

    "name": "Image with text overlay",

    "class": "image-with-text-overlay",

    "settings": [

      {

        "type": "richtext",

        "id": "title",

        "label": "Title",

        "default": "<p>Image with text overlay</p>"

      },

      {

        "type": "range",

        "id": "title_max_w",

        "label": "Title max width",

        "default": 530, 

        "min": 100,

        "max": 900,

        "step": 10,

        "unit": "px"

      },

      {

        "type": "richtext",

        "id": "subtitle",

        "label": "Subtitle",

        "default": "<p>Section subtitle</p>"

      },

      {

        "type": "range",

        "id": "subtitle_max_w",

        "label": "Subtitle max width",

        "default": 160, 

        "min": 100,

        "max": 900,

        "step": 10,

        "unit": "px"

      },

      {

        "type": "text",

        "id": "button_label",

        "label": "Button label",

        "default": "Button"

      },

      {

        "type": "url",

        "id": "button_link",

        "label": "Button link"

      },

      {

        "type": "image_picker",

        "id": "image",

        "label": "Image"

      },

      {

        "type": "image_picker",

        "id": "mobile_image",

        "label": "Mobile image"

      },

      {

        "type": "text",

        "id": "video_url",

        "label": "Video link",

        "default": "https://cdn.shopify.com/s/files/1/0259/3459/4127/files/kankan-soap_966651be-d048-4096-a375-3d73e8208647.mp4",

        "info": "Supports .MP4 [Learn more](https://archetypethemes.co/blogs/streamline/how-do-i-add-background-videos)"

      },

      {

        "type": "text",

        "id": "video_mobile_url",

        "label": "Mobile video link",

        "info": "Supports .MP4 [Learn more](https://archetypethemes.co/blogs/streamline/how-do-i-add-background-videos)"

      },

      {

        "type": "select",

        "id": "image_position",

        "label": "Image position",

        "default": "center center",

        "options": [

          {

            "value": "left top",

            "label": "Left top"

          },

          {

            "value": "center top",

            "label": "Center top"

          },

          {

            "value": "right top",

            "label": "Right top"

          },

          {

            "value": "left center",

            "label": "Left center"

          },

          {

            "value": "center center",

            "label": "Center"

          },

          {

            "value": "right center",

            "label": "Right center"

          },

          {

            "value": "left bottom",

            "label": "Left bottom"

          },

          {

            "value": "center bottom",

            "label": "Center bottom"

          },

          {

            "value": "right bottom",

            "label": "Right bottom"

          }

        ]

      },

      {

        "type": "select",

        "id": "text_position",

        "label": "Text position",

        "default": "text-left",

        "options": [

          {

            "value": "text-left",

            "label": "Left"

          },

          {

            "value": "text-center",

            "label": "Center"

          },

          {

            "value": "text-right",

            "label": "Right"

          }

        ]

      }

    ], 

    "presets": [

      {

        "name": "Image with text overlay",

        "category": "Kankan section"

      }

    ]

  }

{% endschema %}

